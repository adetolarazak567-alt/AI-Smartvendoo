<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Login - AI SmartVendo</title>
<style>
body {
  font-family: Poppins, sans-serif;
  background: #eef3ff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}
.login-box {
  background: #fff;
  padding: 2rem;
  border-radius: 14px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.08);
  max-width: 400px;
  width: 100%;
  text-align: center;
}
.login-box input {
  width: 100%;
  padding: 0.8rem;
  margin: 0.5rem 0;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 1rem;
}
.login-box button {
  background: #007bff;
  color: #fff;
  border: none;
  padding: 0.8rem 1rem;
  border-radius: 10px;
  cursor: pointer;
  width: 100%;
  margin-top: 1rem;
}
.login-box p {
  margin-top: 1rem;
  font-size: 0.9rem;
}
.login-box p a {
  color: #007bff;
  text-decoration: none;
}
.message {
  margin-top: 0.5rem;
  color: red;
  font-size: 0.9rem;
}
</style>
</head>
<body>

<div class="login-box">
  <h1>Login</h1>
  <input type="email" id="email" placeholder="Enter your email"/>
  <input type="text" id="username" placeholder="Enter your username (optional)"/>
  <input type="password" id="password" placeholder="Enter your password"/>
  <button onclick="login()">Login</button>
  <div class="message" id="message"></div>
  <p>Don't have an account? <a href="signup.html">Sign Up</a></p>
</div>

<script>
function login() {
    const email = document.getElementById("email").value.trim();
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    const messageEl = document.getElementById("message");
    if(!email || !password){ messageEl.textContent = "Please enter email and password"; return; }

    const users = JSON.parse(localStorage.getItem("AIUsers") || "{}");

    // Admin login
    if(email === "adetolarazak567@gmail.com" && password === "@razzyadminAI567") {
        localStorage.setItem("AIUser", "Admin");
        window.location.href = "admin.html";
        return;
    }

    // Hardcoded main user login
    if(email === "adetolarazak567@gmail.com" && password === "@razzyadmin567") {
        localStorage.setItem("AIUser", username || "User");
        window.location.href = "index.html";
        return;
    }

    // Existing users in localStorage
    if(users[email]) {
        if(users[email].password === password) {
            localStorage.setItem("AIUser", users[email].username || "User");
            window.location.href = "index.html";
            return;
        } else {
            messageEl.textContent = "Incorrect password!";
            return;
        }
    }

    // If email not registered
    messageEl.textContent = "Sign up to get started!";
    setTimeout(()=>{ window.location.href="signup.html"; }, 1500);
}
</script>

</body>
</html>
